The Grandstream HT813 is a VoIP gateway designed to bridge traditional telephone service with modern IP-based phone systems. When configured as an FXO adapter, the HT813 allows you to connect an existing home phone line—such as a standard analog PSTN line—to a VoIP PBX like FreePBX or to a SIP provider. This setup lets you continue using your home’s existing telephone wiring and analog handsets while gaining the flexibility, routing features, and call control offered by VoIP.

By properly configuring the FXO port and SIP settings, the HT813 can route incoming calls from the physical phone line into your PBX and send outbound calls from your VoIP system through the local analog line. This guide walks through the essential steps to connect the HT813 to your home phone service, network, and PBX so you can take full advantage of hybrid analog/VoIP functionality.

First lets get your FreePBX System Ready to connect to the HT813 by installing the chan_sip functionality for Asterisk 20

*** Asterisk 20 no longer builds chan_sip by default ***

1. Install Dependencies

apt update
apt install -y build-essential libxml2-dev libncurses5-dev uuid-dev libjansson-dev libsqlite3-dev pkg-config
apt install -y libssl-dev libedit-dev

2. Download Asterisk Source (same version you're running)

Check your Version:

asterisk -V

Then download the same major version:

cd /usr/src
wget https://downloads.asterisk.org/pub/telephony/asterisk/asterisk-20-current.tar.gz
tar zxvf asterisk-20-current.tar.gz
cd asterisk-20*/

3. Configure the Source

./configure

4. Run the Module Selection Menu

make menuselect

In the menu:

Go to Channel Drivers

Enable:
✔️ chan_sip (it will appear as “Deprecated chan_sip channel driver”)

Exit and save.

5. Compile and Install

make -j4
make install
make samples    # optional, but DO NOT overwrite if you have FreePBX configs
make config
ldconfig

6. Make Sure chan_sip.so Is Loaded

Check:

asterisk -rx "module show like sip"


Expected:

chan_sip.so    Deprecated SIP Channel Driver   Running


If not loaded automatically:

echo "load => chan_sip.so" >> /etc/asterisk/modules.conf
asterisk -rx "module load chan_sip.so"

7. All Done
✔️ Done

Asterisk 20 now has chan_sip installed and active.